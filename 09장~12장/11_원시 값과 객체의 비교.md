# 11장 원시 값과 객체의 비교
## 11.1 원시 값
### 11.1.1 변경 불가능한 값(immutable value)
**변수**는 메모리 공간에 대한 식별자이고 **값**은 공간에 할당된 데이터이다.
- *원시 값은 변경 불가능하다* 라는 말은 데이터 자체를 변경할 수 없다는 것을 의미하고, 변수는 새로운 값으로 재할당이 가능하다.
- 변수가 재할당되면, 새로운 메모리 공간을 확보하여 값을 저장한다. 기존 메모리에 저장된 값이 변경 불가능하기 때문이다.

### 11.1.2 문자열과 불변성
자바스크립트의 문자열은 원시 타입이며, 변경 불가능하다.
- 문자열은 0개 이상의 문자로 이루어진다.
- 1개의 문자는 2바이트 메모리를 차지하여, 10개의 문자로 이뤄진 문자열은 20바이트가 필요하다.
- 배열처럼 인덱스로 접근가능한 유사 배열 객체<sup>array-like object</sup>이다 (21.3)

```js
var str = 'string';
// 문자열은 유사 배열이므로 배열과 유사하게 인덱스를 사용해 각 문자에 접근할 수 있다.
// 하지만 문자열은 원시값이므로 변경할 수 없다. 이때 에러가 발생하지 않는다.
str[0] = 'S';
console.log(str); // string
```
### 11.1.3 값에 의한 전달 (pass by value)
변수에 원시 값을 갖는 변수를 할당하면, 할당 받는 변수(`copy`)에는 할당 되는 변수(`score`)의 원시 값이 복사되어 전달 된다.
```js
var score = 80;
var copy = score;

console.log(score); // 80
console.log(copy);  // 80

score = 100;

console.log(score); // 100
console.log(copy);  // ?
```
`copy`는 새로운 메모리 공간을 가리키며 그곳에 `score`가 가리키는 값(`80`)을 복사한다.
하지만 자바스크립트 엔진을 구현하는 제조사에 따라 메모리 관리 측면에서 미묘한 차이가 있다. 
1. 새로운 메모리 공간에 값을 복사하는 방식
2. 같은 메모리 공간을 가리키다가, 한 변수의 재할당이 이루어지는 경우에만, 새로운 메모리 공간에 할당하는 방식

두 방식으로 미루어 볼때, `copy`, `score`와 같은 식별자는 값을 그대로 들고있는게 아니라, 값이 저장된 메모리 공간의 주소를 기억한다. 
따라서, 앞 예시처럼, 변수에 변수를 할당하면 값이 아니라 메모리 공간의 주소를 전달한다.

또한, 어떤 방식이든 상관없이, **두 변수의 원시 값은 서로 다른 메모리 공간에 저장된 별개의 값이 되어 서로 간섭할 수 없다.**

## 11.2 객체

### 11.2.1 변경 가능한 값
객체 타입의 값, 객체는 변경 가능한 값이다.

원시값을 할당한 변수를 통해 메모리 공간에 접근하면, 값 그 자체에 접근 할 수 있지만, 객체를 할당한 변수를 통해 메모리 공간에 접근하면, **참조 값**을 얻는다. 객체 타입의 값(참조 값)은 **객체가 저장된 메모리 공간의 주소** 그 자체이다.
```js
var person = {
  name : 'Lee',
};
// person 변수에 저장되어 있는 참조 값으로 실제 객체에 접근한다.
console.log(person); // {name: "Lee"}
```
```js
person ----> 0x000000F2(0x00001332) ----> 0x00001332({name: "Lee"})
```
- 객체는 재할당 없이 (참조 값을 이용하여) 객체를 직접 변경하거나, 프로퍼티를 동적으로 추가하고, 값을 갱신하고, 삭제할 수 있다.
- 객체는 크기가 클 수 있어서, 객체를 변경할 때마다 원시 값처럼 값을 복사하여 새롭게 생성한다면, 성능 이슈가 발생한다. 따라서 변경가능한 값으로 설계되어있다.
- 이러한 참조 구조 때문에, **여러 개의 식별자가 하나의 객체를 공유할 수 있는 단점**(얕은 복사)이 있다.

### 11.2.2 참조에 의한 전달 (pass by reference)
```js
var copy = person;
```
객체를 가리키는 변수를 다른 변수에 할당하면 **원본의 참조 값이 복사**되어 전달된다. 이를 **참조에 의한 전달**이라 한다. 같은 참조값을 가지고 있으면, 한쪽의 객체 프로퍼티를 수정해도, 다른 쪽 객체에도 반영된다. 같은 객체에 대한 참조값을 공유하고 있기 때문이다.

- '값에 의한 전달'과 '참조에 의한 전달'은 메모리에 저장된 값을 복사한다는 점에서 동일하다.
    - 원시 값을 복사하느냐, 참조 값(메모리주소)를 복사하느냐의 차이가 있다.
    