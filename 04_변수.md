# 04장 변수

## 4.1 변수란 무엇인가? 왜 필요한가?

어플리케이션은 단순히 말하자면, 데이터를 입력받아 처리하고 결과를 출력하는 과정이다. 이를 위하여 **변수**<sup>variable</sup>는 프로그래밍 언어에서 데이터를 담고 식별하는 기능을 한다.
가령, 다음 예시에서는 더하기(+) 연산을 처리하기 위해 10과 20, 그리고 그 결과 값인 **30**을 저장한다.

```js
var result = 10 + 20;
    변수이름    변수값(30)
```

어플리케이션에서 데이터를 처리하는 의도는, 해당 데이터를 이용(ex. 출력)하기 위해서다.
여기서 10, 20, 30은 컴퓨터 메모리(RAM)상 임의의 위치에 저장된다. 메모리 상황에 따라 메모리 주소는 계속 변경되며, 메모리 주소에 직접 접근하여 결과 값을 얻어 오는 것은 오류를 발생시킨다. 그래서, 계산 결과인 30을 불러오기 위한 이름 즉 **식별자**가 필요하다.

> [!NOTE] > **변수**<sup>variable</sup>는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙여진 이름을 말한다.
> _36p_

변수를 통해, 메모리 공간에 저장된 결과 값을 읽어 들여 재사용할 수 있다.

#### 용어정리

- **변수 이름**: 값의 식별자, 고유 이름
- **변수 값**: 변수에 저장된 값
- **할당**<sup>assignment</sup> : 변수에 값을 저장하는 것
- **참조**<sup>reference</sup> : 변수에 저장된 값을 읽어 들이는 것

## 4.2 식별자

변수 이름을 **식별자**<sup>identifier</sup>라고도 부른다.
다음 예시처럼 식별자는 값이 아니라 값이 저장된 메모리 주소를 기억한다.

```js
result •----->   0x0669F913  ---> |_ _ 30 _ _|
변수 이름(식별자)     메모리 주소            메모리
```

식별자는 **어떤 값을 구별해서 식별할 수 있는 고유한 이름**을 말한다.
따라서 변수, 함수, 클래스 등의 **선언**<sup>declaration</sup> 에 사용되는 이름은 모두 식별자다. 식별자는 선언할때 식별자 네이밍 규칙(4.7)을 준수 해야한다.

## 4.3 변수 선언

**변수 선언**<sup>variable declaration</sup>은 변수를 생성하는 것이다.

```js
var score;
```

예시는 다음과 같은 과정을 거친다.

1. 선언 (declaration) : 변수 이름을 등록
2. 초기화
   1. 메모리 공간 확보 (allocate) + 메모리 공간에 **undefined** 할당
   2. 변수 이름과 메모리 공간 주소를 연결 (name binding)

선언되지 않은 식별자에 접근하면 `ReferenceError`(참조 에러)가 발생한다.

## 4.4 변수 선언의 실행 시점과 호이스팅

```js
console.log(score); // undefined

var score; // 먼저 선언됨
```

자바스크립트에서 변수를 비롯한 모든 식별자 선언은 _소스코드 평가_ 단계에서 다른 코드보다 먼저 실행된다. 이처럼 변수 선언문이 코드의 최상위로 올라간 것처럼 동작하는 특징을 **변수 호이스팅**<sup>variable hoisting</sup>이라 한다.

```shell
 # 호이스팅
 소스코드 평가   --->   런타임
(선언문만 실행)        (인터프리터에 의한 순차 실행)
```

## 4.5 값의 할당

변수에 값을 할당<sup>assignment</sup>할때는 할당 연산자 =를 사용한다.

```js
var score; // 변수 선언
score = 80; // 값의 할당

var score = 80; // 단축표현
```

**변수 선언**과 **값의 할당**은 다른 시점에 실행되는 분리된 문장이다.

- 변수 선언 : 소스코드 평가 단계에서 실행
- 값의 할당 : 런타임에 실행

단축 표현을 사용하더라도, 2개의 문으로 분리되어 다른 시점에 실행된다.

```js
console.log(score); // 2. undefined

score = 80; // 3. score에 80을 할당
var score; // 1. 선언문을 가장 먼저 실행

console.log(score); // 4. 80
```

> [!NOTE]
> 변수에 값을 할당하면, 선언 시점에 `undefined`가 할당된 메모리와는 다른 별도의 메모리 공간을 확보하고 그곳에 값을 저장한다.

## 4.6 값의 재할당

**재할당**은 이미 값이 할당되어 있는 변수에 새로운 값을 다시 할당하는 것을 말한다.
(`const` 키워드로 사용하는 **상수**<sup>constant</sup>는 값을 재할당 할 수 없다.)

```js
var score = 80; // 변수 선언과 값의 할당
score = 90; // 값의 재할당
```

예시에서 `score`는 `undefined` -> `80` -> `90`으로 값이 변화한다.
값이 재할당될때 마다 새로운 메모리 공간이 할당되며, 기존값이 저장된 공간은 **가비지 콜렉터**<sup>garbage collector</sup>에 의해 메모리에서 자동 해제된다.

## 4.7 식별자 네이밍 규칙

식별자는 다음 네이밍 규칙을 준수해야 한다.

- 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)를 포함할 수 있다.
- 단, 식별자는 특수문자를 제외한 문자, 언더스코어(\_), 달러 기호($)로 시작해야한다. 숫자로 시작하는 것은 허용 X
- 자바스크립트 예약어는 식별자로 사용할 수 없다.
